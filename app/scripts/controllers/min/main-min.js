"use strict";angular.module("myappApp").controller("MainCtrl",function(e,t,r){e.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],e.load=function(){function e(){var e=n.transformedPoint(0,0),t=n.transformedPoint(r.width,r.height);n.clearRect(e.x,e.y,t.x-e.x,t.y-e.y),n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore(),n.strokeRect(0,0,100,100)}function t(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=t.createSVGMatrix();e.getTransform=function(){return r};var n=[],a=e.save;e.save=function(){return n.push(r.translate(0,0)),a.call(e)};var o=e.restore;e.restore=function(){return r=n.pop(),o.call(e)};var s=e.scale;e.scale=function(t,n){return r=r.scaleNonUniform(t,n),s.call(e,t,n)};var l=e.rotate;e.rotate=function(t){return r=r.rotate(180*t/Math.PI),l.call(e,t)};var f=e.translate;e.translate=function(t,n){return r=r.translate(t,n),f.call(e,t,n)};var i=e.transform;e.transform=function(n,a,o,s,l,f){var c=t.createSVGMatrix();return c.a=n,c.b=a,c.c=o,c.d=s,c.e=l,c.f=f,r=r.multiply(c),i.call(e,n,a,o,s,l,f)};var c=e.setTransform;e.setTransform=function(t,n,a,o,s,l){return r.a=t,r.b=n,r.c=a,r.d=o,r.e=s,r.f=l,c.call(e,t,n,a,o,s,l)};var u=t.createSVGPoint();e.transformedPoint=function(e,t){return u.x=e,u.y=t,u.matrixTransform(r.inverse())}}var r=document.getElementsByTagName("canvas")[0];r.width=700,r.height=600;var n=r.getContext("2d");t(n),e();var a=r.width/2,o=r.height/2,s,l;r.addEventListener("mousedown",function(e){document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",a=e.offsetX||e.pageX-r.offsetLeft,o=e.offsetY||e.pageY-r.offsetTop,s=n.transformedPoint(a,o),l=!1},!1),r.addEventListener("mousemove",function(t){if(a=t.offsetX||t.pageX-r.offsetLeft,o=t.offsetY||t.pageY-r.offsetTop,l=!0,s){var f=n.transformedPoint(a,o);n.translate(f.x-s.x,f.y-s.y),e()}},!1),r.addEventListener("mouseup",function(e){s=null,l||i(e.shiftKey?-1:1)},!1);var f=1.1,i=function(t){var r=n.transformedPoint(a,o);n.translate(r.x,r.y);var s=Math.pow(f,t);n.scale(s,s),n.translate(-r.x,-r.y),e()},c=function(e){var t=e.wheelDelta?e.wheelDelta/40:e.detail?-e.detail:0;return t&&i(t),e.preventDefault()&&!1};r.addEventListener("DOMMouseScroll",c,!1),r.addEventListener("mousewheel",c,!1)}});